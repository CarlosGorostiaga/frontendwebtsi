---
// Header.astro - Navegación principal para TSI Grupo
import logoImg from '../assets/images/logo-no-fondo.png';

export interface Props {
  currentPath?: string;
}

const { currentPath = "/" } = Astro.props;

// Elementos de navegación
const navItems = [
  { name: "Inicio", href: "/", path: "/" },
  { name: "Nosotros", href: "/nosotros", path: "/nosotros" },
  { name: "Servicios", href: "/servicios", path: "/servicios" },
  { name: "Proyectos", href: "/proyectos", path: "/proyectos" },
  { name: "Contacto", href: "/contacto", path: "/contacto" }
];
---

<header class="bg-white/98 backdrop-blur-sm border-b border-gray-200/50 sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-6">
    <div class="flex items-center justify-between h-16">
      <!-- Logo simple -->
      <div class="flex-shrink-0">
        <a href="/" class="flex items-center">
          <img 
            src={logoImg.src} 
            alt="TSI Grupo" 
            class="h-12 w-auto"
          />
        </a>
      </div>

      <!-- Navigation simple -->
      <nav class="hidden md:flex items-center space-x-8">
        {navItems.map((item) => (
          <a 
            href={item.href}
            class={`text-sm font-medium transition-colors ${
              currentPath === item.path
                ? "text-gray-900" 
                : "text-gray-600 hover:text-gray-900"
            }`}
          >
            {item.name}
          </a>
        ))}
      </nav>

      <!-- CTA simple -->
      <div class="flex items-center space-x-4">
        <span class="hidden lg:inline text-sm text-gray-600">+34 91 887 41 70</span>
        <a 
          href="/contacto" 
          class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"
        >
          Contacto
        </a>
      </div>

      <!-- Mobile menu button simple -->
      <button 
        id="mobile-menu-button"
        class="md:hidden p-2"
        aria-expanded="false"
      >
        <span class="block w-5 h-0.5 bg-gray-600 mb-1"></span>
        <span class="block w-5 h-0.5 bg-gray-600 mb-1"></span>
        <span class="block w-5 h-0.5 bg-gray-600"></span>
      </button>
    </div>
  </div>

  <!-- Mobile menu simple -->
  <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
    <div class="px-6 py-4 space-y-2">
      {navItems.map((item) => (
        <a 
          href={item.href}
          class={`block py-2 text-base ${
            currentPath === item.path
              ? "text-gray-900 font-medium"
              : "text-gray-600"
          }`}
        >
          {item.name}
        </a>
      ))}
      <div class="pt-4 border-t border-gray-200">
        <a 
          href="/contacto" 
          class="block w-full bg-orange-500 text-white text-center py-3 rounded-lg font-medium"
        >
          Contacto
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle functionality - versión simple
  document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    if (mobileMenuButton && mobileMenu) {
      mobileMenuButton.addEventListener('click', () => {
        const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
        
        mobileMenuButton.setAttribute('aria-expanded', (!isExpanded).toString());
        
        if (isExpanded) {
          mobileMenu.classList.add('hidden');
        } else {
          mobileMenu.classList.remove('hidden');
        }
      });

      // Close mobile menu when clicking on a link
      const mobileMenuLinks = mobileMenu.querySelectorAll('a');
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
          mobileMenuButton.setAttribute('aria-expanded', 'false');
        });
      });
    }
  });
</script>