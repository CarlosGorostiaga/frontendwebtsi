---
export interface Props {
  image: string | { src: string; width?: number; height?: number };
  height?: string;
  overlay?: string;
  title: string;
  subtitle: string;
}

const {
  image,
  height = '65vh',
  overlay = 'bg-black/40',
  title,
  subtitle,
} = Astro.props;

const src = typeof image === 'string' ? image : image.src;
---

<section
  class="relative flex items-center justify-center overflow-hidden"
  style={`height:${height}`}
>
  <!-- Imagen de fondo -->
  <img
    src={src}
    alt=""
    aria-hidden="true"
    class="absolute inset-0 w-full h-full object-cover scale-105 md:animate-[subtleParallax_20s_ease-in-out_infinite_alternate]"
    loading="eager"
    decoding="async"
  />

  <!-- Overlay -->
  <div
    class="absolute inset-0 bg-gradient-to-b from-black/20 via-black/40 to-black/60"
    aria-hidden="true"
  ></div>

  <!-- Contenido -->
  <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <!-- Línea superior -->
    <div class="w-16 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent mx-auto mb-8 animate-[expandLine_1s_ease-out_0.2s_both]"></div>

    <!-- Título -->
    <h1
      class="text-4xl sm:text-5xl lg:text-6xl font-light mb-8 text-white tracking-tight text-shadow-xl leading-tight animate-[fadeInUp_1.2s_ease-out_0.3s_both]"
    >
      <span class="font-normal">{title}</span>
      <br />
      <span
        class="font-semibold bg-gradient-to-br from-orange-500 to-orange-300 bg-clip-text text-transparent"
      >
        con Experiencia
      </span>
    </h1>

    <!-- Subtítulo -->
    <p
      class="text-lg sm:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed font-light mb-12 animate-[fadeInUp_1.2s_ease-out_0.6s_both]"
    >
      {subtitle}
    </p>

    <!-- Botones -->
    <div
      class="flex flex-col sm:flex-row gap-4 justify-center items-center animate-[fadeInUp_1.2s_ease-out_0.9s_both]"
    >
      <a
        href="/proyectos"
        aria-label="Ver todos los proyectos"
        class="group relative overflow-hidden px-8 py-4 rounded-full font-medium text-white bg-orange-600 shadow-orange-500/40 hover:shadow-orange-500/50 hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto max-w-[280px] sm:max-w-none"
      >
        Ver Proyectos
      </a>

      <a
        href="/contacto"
        aria-label="Ir al formulario de contacto"
        class="group px-8 py-4 rounded-full font-medium border-2 border-white/30 text-white backdrop-blur-sm hover:border-white/50 hover:bg-white/10 hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto max-w-[280px] sm:max-w-none"
      >
        Contactar
      </a>
    </div>

    <!-- Línea inferior -->
    <div
      class="w-8 h-px bg-white/40 mx-auto mt-12 animate-[expandLine_1s_ease-out_1.2s_both]"
    ></div>
  </div>
  <!-- Fin contenido -->
</section>

<style>
  /* Animaciones clave (solo 5 declaraciones) */
  @keyframes subtleParallax {
    0%   { transform: scale(1.05) translateY(0); }
    100% { transform: scale(1.08) translateY(-10px); }
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes expandLine {
    from { transform: scaleX(0); opacity: 0; }
    to   { transform: scaleX(1); opacity: 1; }
  }

  /* Respetar preferencias del usuario */
  @media (prefers-reduced-motion: reduce) {
    * { animation: none !important; }
  }
</style>